"use strict";Object.defineProperty(exports, "__esModule", { value: true });exports.auth = void 0;var _betterAuth = await jitiImport("better-auth");
var _drizzle = await jitiImport("better-auth/adapters/drizzle");
var _serverless = await jitiImport("@neondatabase/serverless");
var _neonHttp = await jitiImport("drizzle-orm/neon-http");
var dotenv = _interopRequireWildcard(await jitiImport("dotenv"));function _interopRequireWildcard(e, t) {if ("function" == typeof WeakMap) var r = new WeakMap(),n = new WeakMap();return (_interopRequireWildcard = function (e, t) {if (!t && e && e.__esModule) return e;var o,i,f = { __proto__: null, default: e };if (null === e || "object" != typeof e && "function" != typeof e) return f;if (o = t ? n : r) {if (o.has(e)) return o.get(e);o.set(e, f);}for (const t in e) "default" !== t && {}.hasOwnProperty.call(e, t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, t)) && (i.get || i.set) ? o(f, t, i) : f[t] = e[t]);return f;})(e, t);}

dotenv.config();

const sql = (0, _serverless.neon)(process.env.NEON_DATABASE_URL);
const db = (0, _neonHttp.drizzle)(sql);

const auth = exports.auth = (0, _betterAuth.betterAuth)({
  database: (0, _drizzle.drizzleAdapter)(db, {
    provider: "pg"
  }),
  emailAndPassword: {
    enabled: true
  },
  user: {
    additionalFields: {
      python_experience: {
        type: "number",
        defaultValue: 0
      },
      hardware_experience: {
        type: "number",
        defaultValue: 0
      },
      onboarding_complete: {
        type: "boolean",
        defaultValue: false
      }
    }
  }
  // We can add social providers (GitHub, Google) here if needed later
}); /* v9-133b48420473af1a */
